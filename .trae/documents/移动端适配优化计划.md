# 移动端适配与优化计划

本计划旨在对《终末地寻访模拟器》进行全面的移动端适配，确保在 iOS 和 Android 设备上提供一致且流畅的用户体验。

## 1. 核心布局重构 (App.tsx)

**目标**：确保移动端用户优先看到核心内容（卡池立绘与抽卡按钮），符合移动端操作习惯。

*   **布局调整**：
    *   使用 CSS Flexbox 的 `order` 属性或调整 DOM 结构，在移动端（屏幕宽度 < 1024px）将页面区域重新排序为：
        1.  **Banner 区域** (原中间列)：立绘展示与抽卡按钮。
        2.  **操作与导航** (原右侧列)：切换卡池、重置等功能。
        3.  **数据监控与历史** (原左侧列)：保底数据、近期记录。
    *   桌面端保持原有的左-中-右三栏布局。
*   **头部适配 (Header)**：
    *   在移动端折叠顶部信息栏，将“下期十连券”和“特殊十连券”简化显示或移入折叠菜单，确保标题栏不拥挤。
    *   调整 Logo 和标题的尺寸，防止换行。

## 2. 组件级适配优化

### 2.1 寻访结果弹窗 (ResultModal.tsx)
*   **网格调整**：移动端将结果网格从 2 列调整为 2 列（保持不变，但在极小屏幕如 iPhone SE 可能需调整间距），确保卡片内容不溢出。
*   **交互优化**：增大“确认”按钮的点击区域，确保高度不小于 44px。
*   **全屏适配**：移除移动端的大外边距，改为全屏或底部抽屉式布局（如适用），最大化利用屏幕空间。

### 2.2 历史记录归档 (HistoryArchive.tsx)
*   **视图重构**：
    *   **桌面端**：保持表格视图。
    *   **移动端**：将 `<table/>` 转换为卡片式列表 (List View)，每条记录作为一个独立的卡片展示，包含干员头像、名称、星级和获得状态，避免横向滚动带来的糟糕体验。
*   **高度适配**：调整弹窗高度为 `h-[90vh]` 或 `h-full`，并确保关闭按钮易于触达。

### 2.3 确认弹窗 (ConfirmModal.tsx)
*   **宽度调整**：将固定宽度 `max-w-md` 改为 `w-[90%] max-w-md`，防止在小屏设备上溢出。
*   **按钮布局**：保持并排布局，但增加按钮高度，符合手指点击范围。

## 3. 样式与交互规范 (Tailwind CSS)

*   **触控目标优化**：
    *   为所有 `<button>` 和可交互元素增加 `min-h-[44px]` 和 `min-w-[44px]` 的样式约束。
    *   增加按钮间的间距 (`gap`)，防止误触。
*   **字体适配**：
    *   使用 `clamp()` 或 Tailwind 的响应式前缀 (`text-sm md:text-base`) 调整正文字体大小，防止移动端文字过小。
*   **安全区适配**：
    *   添加 `safe-area-inset-bottom` 支持，防止底部操作栏被全面屏手势条遮挡。

## 4. 性能优化

*   **图片加载**：
    *   为 Banner 立绘和背景图添加 `fetchPriority="high"`（如果是首屏关键资源）。
    *   为历史记录中的干员头像添加 `loading="lazy"`。
*   **动画优化**：
    *   在移动端 (`matchMedia('(prefers-reduced-motion: reduce)')` 或检测设备性能) 简化复杂的 CSS 动画（如粒子效果、模糊滤镜），减少 GPU 消耗。

## 5. 测试与交付

*   **验证设备**：
    *   iPhone SE (320px)
    *   iPhone 12/13/14 (390px)
    *   Android Mainstream (360px - 412px)
    *   iPad / Tablet (768px)
*   **交付物**：
    *   修改后的源代码。
    *   适配说明文档。
