# 终末地风格抽卡模拟器开发计划 (SPA版)

根据最新需求，我将移除 Next.js，改用 Vite + React + TypeScript 构建纯前端单页面应用 (SPA)。

## 1. 项目初始化
- 使用 Vite 创建 React + TypeScript 项目。
- 配置 Tailwind CSS 进行样式开发。
- 引入 `lucide-react` 图标库。
- 建立工业风设计系统：主色黄 (#FFE100)、黑 (#09090B)、灰 (#27272A)。

## 2. 数据结构 (`/src/data`)
- **operators.json**: 存储所有干员数据 (姓名、星级、初始所属卡池信息)。
- **banners.json**: 定义三期卡池的 UP 干员及时间/顺序逻辑。

## 3. 核心逻辑 (`/src/hooks/useGachaSystem.ts`)
- **状态管理**: 使用 React `useReducer` 或 Context API 管理复杂状态。
- **核心功能**:
  - `pullOne()` / `pullTen()`: 执行抽卡，处理概率与保底。
  - `switchBanner()`: 切换至下一期，重置限定保底，继承6星水位。
  - `reset()`: 重置所有数据。
- **规则实现**:
  - 6星/5星/限定保底逻辑 (含66抽软保底、80抽硬保底、120抽限定保底)。
  - 30抽特殊十连 (独立逻辑)。
  - 60抽累计奖励 (下期券)。
  - 动态卡池构建：根据当前 Banner ID 动态计算“歪池” (常驻 + 其他期限定)。

## 4. UI 界面 (`/src/components`)
- **App.tsx**: 主界面容器，包含背景与布局。
- **Dashboard**:
  - **Header**: 标题与当前资源/券展示。
  - **BannerArea**: 核心视觉区，展示当前 UP 角色 (莱万汀/洁尔佩塔/伊冯)。
  - **ControlDeck**: 操作区，包含黄黑配色的工业风按钮 (寻访、切换、重置)。
  - **StatsPanel**: 实时数据监控 (当前水位、累计次数)。
- **HistoryOverlay**: 抽卡历史记录浮层。
- **ResultView**: 抽卡结算画面，展示获得干员。

## 5. 开发步骤
1. `npm create vite@latest .` 初始化项目。
2. 配置 Tailwind 与基础样式。
3. 编写 JSON 数据文件与 TypeScript 类型定义。
4. 实现 Gacha 核心逻辑 Hook。
5. 开发 UI 组件并集成。
6. 测试全流程 (保底、切换、重置)。
